<!DOCTYPE html>
<html>
<head>
    <title>Test Product App</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-result { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .pass { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .fail { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background-color: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
    </style>
</head>
<body>
    <h1>Test Product Management System</h1>
    
    <div id="test-results">
        <div class="test-result info">Đang kiểm tra...</div>
    </div>
    
    <script>
        const testResults = document.getElementById('test-results');
        
        function addResult(message, type) {
            const div = document.createElement('div');
            div.className = `test-result ${type}`;
            div.textContent = message;
            testResults.appendChild(div);
        }
        
        // Test 1: Check if DataConverter class exists
        try {
            if (typeof DataConverter !== 'undefined') {
                addResult('✓ DataConverter class exists', 'pass');
            } else {
                addResult('✗ DataConverter class not found', 'fail');
            }
        } catch (e) {
            addResult(`✗ Error checking DataConverter: ${e.message}`, 'fail');
        }
        
        // Test 2: Check if ProductTableApp class exists
        try {
            if (typeof ProductTableApp !== 'undefined') {
                addResult('✓ ProductTableApp class exists', 'pass');
            } else {
                addResult('✗ ProductTableApp class not found', 'fail');
            }
        } catch (e) {
            addResult(`✗ Error checking ProductTableApp: ${e.message}`, 'fail');
        }
        
        // Test 3: Test DataConverter methods
        try {
            const testProducts = [
                {
                    id: 1,
                    title: 'Test Product',
                    price: 100,
                    description: 'Test description',
                    category: { id: 1, name: 'Test Category' },
                    images: [],
                    creationAt: '2023-01-01',
                    updatedAt: '2023-01-01'
                }
            ];
            
            const stats = DataConverter.calculateStatistics(testProducts);
            if (stats.totalProducts === 1) {
                addResult('✓ DataConverter.calculateStatistics works', 'pass');
            } else {
                addResult(`✗ calculateStatistics failed: expected 1, got ${stats.totalProducts}`, 'fail');
            }
        } catch (e) {
            addResult(`✗ Error testing DataConverter: ${e.message}`, 'fail');
        }
        
        // Test 4: Check Bootstrap is loaded
        try {
            if (typeof bootstrap !== 'undefined') {
                addResult('✓ Bootstrap is loaded', 'pass');
            } else {
                addResult('ℹ Bootstrap not loaded in test (expected)', 'info');
            }
        } catch (e) {
            addResult('ℹ Bootstrap check skipped', 'info');
        }
        
        addResult('✅ Kiểm tra hoàn tất!', 'info');
    </script>
</body>
</html>